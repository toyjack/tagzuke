webpackJsonp([1],{0:function(t,e){},1:function(t,e){},2:function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("3EgV"),s=a.n(i),r=a("NYxO"),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.showNavBar,callback:function(e){t.showNavBar=e},expression:"showNavBar"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-list",[a("v-list-tile",[a("v-list-tile-title",{staticClass:"title"},[t._v("\n             メニュー\n           ")])],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{staticClass:"pt-0",attrs:{dense:""}},t._l(t.navMenus,function(e){return a("v-list-tile",{key:e.title,on:{click:function(a){t.$router.push(e.path)}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}))],1),t._v(" "),a("v-toolbar",{attrs:{fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.showNavBar=!t.showNavBar}}}),t._v(" "),a("v-toolbar-title",[t._v(t._s(t.$route.name))])],1),t._v(" "),a("v-content",[a("router-view")],1),t._v(" "),a("v-footer",{attrs:{app:""}})],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App",data:function(){return{showNavBar:null,navMenus:[{title:"ファイルを開く",icon:"dashboard",path:"/"},{title:"設定",icon:"settings",path:"/settings"},{title:"表示",icon:"picture_in_picture",path:"/display"},{title:"アバウト",icon:"info",path:"/about"}]}},methods:{}},o,!1,function(t){a("r04s")},null,null).exports,d=a("/ocq"),c=a("uXZL"),f=a.n(c),u={name:"Home",data:function(){return{wb:null,sheetNames:[],readed:!1}},methods:{onFileChange:function(t){var e=t.target.files[0],a=new FileReader,n=this;a.onload=function(t){var e=t.target.result;n.wb=f.a.read(e,{type:"binary"}),n.sheetNames=n.wb.SheetNames,n.$store.commit("updateWorkbookData",n.wb),n.readed=!0,n.$router.push("/settings")},a.readAsBinaryString(e)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[t.readed?t._e():a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("a",[a("h2",{on:{click:function(e){t.$refs.fileInput.click()}}},[t._v("ファイルを開く")])]),t._v(" "),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.onFileChange}}),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.$refs.fileInput.click()}}},[a("v-icon",[t._v("insert_drive_file")])],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(u,v,!1,null,null,null).exports,p={name:"Settings",data:function(){return{sheet:null,filedNames:[],selectedSheetName:null,selectedIDFiledName:null,selectedEntryFiledName:null,selectedDefFieldName:null,ifShowSelectSheet:!0,ifShowSelectField:!1,canRender:!1,skipFirstLine:!0,separator:"　",tags:[]}},computed:{workbookData:function(){return this.$store.getters.workbookData},sheetNames:function(){return this.$store.getters.sheetNames}},watch:{},mounted:function(){},methods:{onSheetChange:function(){this.ifShowSelectField=!0;var t=this.$store.state.workbookData.Sheets[this.selectedSheetName];this.$store.commit("updateWorkingSheet",this.selectedSheetName),this.sheet=f.a.utils.sheet_to_json(t,{header:1}),this.filedNames=this.sheet[0]},renderTable:function(){var t=this.filedNames.indexOf(this.selectedIDFiledName);this.$store.commit("updateIndexID",t);var e=this.filedNames.indexOf(this.selectedEntryFiledName);this.$store.commit("updateIndexEntry",e);var a=this.filedNames.indexOf(this.selectedDefFieldName);this.$store.commit("updateIndexDef",a);for(var n=[],i=0;i<this.sheet.length;i++){var s=this.sheet[i],r=s[t],o=s[e],l=s[a]||"";""!=l&&n.push({id:r,entry:o,def:l})}this.skipFirstLine&&n.shift(),this.$store.commit("updateSeparator",this.separator),this.$store.commit("updateWorkData",n),this.$router.push("/display")}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("シート：")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[t.ifShowSelectSheet?a("v-select",{attrs:{items:t.sheetNames,label:"選択","single-line":"",bottom:""},on:{input:t.onSheetChange},model:{value:t.selectedSheetName,callback:function(e){t.selectedSheetName=e},expression:"selectedSheetName"}}):t._e()],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("IDフィールド：")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[t.ifShowSelectField?a("v-select",{attrs:{items:t.filedNames,label:"選択","single-line":"",bottom:""},model:{value:t.selectedIDFiledName,callback:function(e){t.selectedIDFiledName=e},expression:"selectedIDFiledName"}}):t._e()],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("掲出字フィールド：")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[t.ifShowSelectField?a("v-select",{attrs:{items:t.filedNames,label:"選択","single-line":"",bottom:""},model:{value:t.selectedEntryFiledName,callback:function(e){t.selectedEntryFiledName=e},expression:"selectedEntryFiledName"}}):t._e()],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("注文フィールド：")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[t.ifShowSelectField?a("v-select",{attrs:{items:t.filedNames,label:"選択","single-line":"",bottom:""},model:{value:t.selectedDefFieldName,callback:function(e){t.selectedDefFieldName=e},expression:"selectedDefFieldName"}}):t._e()],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("注文要素の区切り文字：")])],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{name:"separator",label:"デフォルトは全角スペースです",id:"separator"},model:{value:t.separator,callback:function(e){t.separator=e},expression:"separator"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-checkbox",{attrs:{label:"`最初の行をスキップ`"},model:{value:t.skipFirstLine,callback:function(e){t.skipFirstLine=e},expression:"skipFirstLine"}})],1)],1),t._v(" "),t.tags?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},t._l(t.tags,function(e){return a("span",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])}))],1):t._e(),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[t._v("\n          検出したタグ：\n        ")]),t._v(" "),a("v-flex",{attrs:{xs8:""}},[a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",color:"primary",dark:""},on:{click:function(e){e.stopPropagation(),t.renderTable(e)}}},[t._v("開く")])],1)])],1)],1)],1)],1)},staticRenderFns:[]},g=a("VU/8")(p,x,!1,null,null,null).exports,m={render:function(){var t=this.$createElement;return(this._self._c||t)("h2",[this._v("About")])},staticRenderFns:[]},_=a("VU/8")(null,m,!1,null,null,null).exports;n.a.use(a("m0IH"));var k={name:"display",data:function(){return{showDialog:!1,fixedDef:"",fixedDefIndex:"",fixedID:"",defActivedIndex:0,parsedDef:[],tagActived:{index:0,type:""},tagChangedTo:""}},mounted:function(){this.workData&&this.parseDef(this.workData[0].def)},computed:{separator:function(){return this.$store.getters.separator},workData:function(){return this.$store.getters.workData},tagStyle:function(){return this.$store.getters.tagStyle},tags:function(){return this.$store.getters.tags}},watch:{defActivedIndex:function(t,e){this.parseDef(this.workData[t].def),this.tagActived.index=0,this.renderTagSelection()},"tagActived.index":function(t,e){this.renderTagSelection()},tagChangedTo:function(t,e){this.tagActived.type=""}},methods:{editDef:function(t,e){this.showDialog=!0,this.fixedDefIndex=t,this.fixedID=e,this.fixedDef=this.workData[t].def},saveChange:function(){this.showDialog=!1,this.$store.commit("updateWorkDataWithID",{id:this.fixedID,def:this.fixedDef})},parseDef:function(t){this.parsedDef=[],t=t.split(this.separator),console.log(this.separator);for(var e=0;e<t.length;e++){var a=t[e],n=/(<([^>]+)>)/gi,i=a.match(n),s=a.replace(n,"");i?this.parsedDef.push({type:i[0],text:s}):this.parsedDef.push({type:"",text:s})}},renderTagSelection:function(){this.tagActived.type=this.parsedDef[this.tagActived.index].type,this.tagChangedTo=this.tags.indexOf(this.tagActived.type)},theAction:function(t){switch(t.srcKey){case"up":this.defActivedIndex>0&&(this.defActivedIndex-=1);break;case"down":this.defActivedIndex<this.workData.length-1&&(this.defActivedIndex+=1);break;case"next":this.tagActived.index<this.parsedDef.length-1?this.tagActived.index+=1:this.tagActived.index=0;break;case"prev":this.tagActived.index>0?this.tagActived.index-=1:this.tagActived.index=this.parsedDef.length-1;break;case"changeNext":this.tagChangedTo<this.tags.length-1?this.tagChangedTo+=1:this.tagChangedTo=0;break;case"changePrev":this.tagChangedTo>0?this.tagChangedTo-=1:this.tagChangedTo=this.tags.length-1}}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("注文修正")]),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{name:"fixedDef",label:"注文を入力してください","multi-line":""},model:{value:t.fixedDef,callback:function(e){t.fixedDef=e},expression:"fixedDef"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.showDialog=!1}}},[t._v("キャンセル")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.saveChange(e)}}},[t._v("保存")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[t.workData?a("v-flex",{attrs:{xs12:""}},t._l(t.workData,function(e,n){return a("v-layout",{key:n,attrs:{row:""}},[a("v-flex",{attrs:{xs1:""}}),t._v(" "),a("v-flex",{attrs:{xs2:""}},[t._v(t._s(e.id))]),t._v(" "),a("v-flex",{attrs:{xs2:""}},[t._v(t._s(e.entry))]),t._v(" "),a("v-flex",{attrs:{xs6:""},on:{click:function(e){t.defActivedIndex=n}}},[t._v("\n          "+t._s(e.def)+"\n        ")]),t._v(" "),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{on:{click:function(a){a.stopPropagation(),t.editDef(n,e.id)}}},[t._v("修正")])],1)],1)})):t._e()],1),t._v(" "),a("v-footer",{attrs:{height:"auto",fixed:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[t.workData?a("v-flex",{attrs:{xs12:""}},[a("v-card",{directives:[{name:"shortkey",rawName:"v-shortkey",value:{up:["shift","tab"],down:["tab"],next:["arrowright"],prev:["arrowleft"],changeNext:["arrowdown"],changePrev:["arrowup"]},expression:"{up: ['shift','tab'], down: ['tab'], next:['arrowright'],prev:['arrowleft'],changeNext:['arrowdown'],changePrev:['arrowup']}"}],on:{shortkey:t.theAction}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.workData[t.defActivedIndex].entry)+"：")]),t._v(" "),t._l(t.parsedDef,function(e,n){return a("v-chip",{key:n,class:t.tagStyle[e.type],attrs:{outline:t.tagActived.index!=n,label:""},on:{click:function(e){e.stopPropagation(),t.tagActived.index=n}}},[t._v("\n                      "+t._s(e.text)+"\n                    ")])})],2)],1)],1):t._e()],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("p",{staticClass:"text-xs-center"},t._l(t.tagStyle,function(e,n,i){return a("v-chip",{key:i,class:e,attrs:{label:"",outline:t.tagChangedTo!=i}},[t._v("\n                        "+t._s(n)+"\n                      ")])}))])],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},D=a("VU/8")(k,w,!1,null,null,null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[t._v(t._s(t.item.id))]),t._v(" "),a("v-flex",{attrs:{xs2:""}},[t._v(t._s(t.item.entry))]),t._v(" "),a("v-flex",{attrs:{xs7:""}},[t._l(t.defs,function(e,n){return[a("span",{key:n,class:t.tagStyle[e.type]},[t._v("\n        "+t._s(e.text)+"\n      ")]),t._v(" "),n<t.defs.length?a("span",[t._v(",")]):t._e()]})],2),t._v(" "),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{on:{click:function(e){e.stopPropagation(),t.editDef(e)}}},[t._v("修正")])],1)],1)},staticRenderFns:[]},y={name:"display",components:{record:a("VU/8")({name:"record",props:["item"],data:function(){return{defs:[]}},computed:{separator:function(){return this.$store.state.separator},tagStyle:function(){return this.$store.state.tagStyle}},created:function(){for(var t=this.item.def.split(this.separator),e=0;e<t.length;e++){var a=t[e],n=/(<([^>]+)>)/gi,i=a.match(n),s=a.replace(n,"");i?this.defs.push({type:i[0],text:s}):this.defs.push({type:"",text:s})}},methods:{editDef:function(){this.$emit("editDef","")}}},b,!1,null,null,null).exports},data:function(){return{editDialog:!1,fixedDef:"",fixedDefIndex:""}},computed:{separator:function(){return this.$store.state.separator},workData:function(){return this.$store.state.workData.map(function(t){return t})}},methods:{editDef:function(t){this.editDialog=!0,this.fixedDefIndex=t,this.fixedDef=this.workData[t].def}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("注文修正")]),t._v(" "),a("v-card-text",[a("v-text-field",{attrs:{name:"fixedDef",label:"注文を入力してください","multi-line":""},model:{value:t.fixedDef,callback:function(e){t.fixedDef=e},expression:"fixedDef"}})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("キャンセル")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("保存")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs8:""}},t._l(t.workData,function(e,n){return a("record",{key:n,attrs:{item:e},on:{editDef:function(e){t.editDef(n)}}})})),t._v(" "),a("v-flex",{attrs:{xs4:""}})],1)},staticRenderFns:[]},N=a("VU/8")(y,S,!1,null,null,null).exports;n.a.use(d.a);var I=new d.a({mode:"history",routes:[{path:"/",name:"ファイルを開く",component:h},{path:"/settings",name:"設定",component:g},{path:"/about",name:"アバウト",component:_},{path:"/display",name:"表示",component:D},{path:"/conform",name:"確認",component:N}]});n.a.use(r.a);var F=new r.a.Store({state:{ifShowNavBar:!1,workbookData:null,workData:null,workbookState:{sheet:"",indexID:"",indexEntry:"",indexDef:"",separator:"　"},tags:["<jion>","<jitai>","<kanbun>","<wakun>"],tagStyle:{"<jion>":"red","<jitai>":"blue","<kanbun>":"green","<wakun>":"orange"}},getters:{workbookData:function(t){return!!t.workbookData&&t.workbookData},sheetNames:function(t,e){return e.workbookData?t.workbookData.SheetNames:[]},separator:function(t){return t.workbookState.separator},workData:function(t){return!!t.workData&&t.workData},tagStyle:function(t){return t.tagStyle},tags:function(t){return t.tags}},mutations:{toggleNavBar:function(t){t.ifShowNavBar=!t.ifShowNavBar},updateWorkbookData:function(t,e){t.workbookData=e},updateWorkData:function(t,e){t.workData=e},updateWorkDataWithID:function(t,e){for(var a=0;a<t.workData.length;a++)if(t.workData[a].id==e.id){t.workData[a].def=e.def;break}},updateTags:function(t,e){t.tags=e},updateTagStyle:function(t,e){t.tagStyle=e},updateWorkingSheet:function(t,e){t.workbookState.sheet=e},updateIndexID:function(t,e){t.workbookState.indexID=e},updateIndexEntry:function(t,e){t.workbookState.indexEntry=e},updateIndexDef:function(t,e){t.workbookState.indexDef=e},updateSeparator:function(t,e){t.separator=e}}});a("7zck");n.a.use(r.a),n.a.use(s.a),n.a.config.productionTip=!1;new n.a({el:"#app",store:F,router:I,components:{App:l},template:"<App/>"})},r04s:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9fefcf1d00246d1f0bcc.js.map